<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>ç·šä¸Šèˆ‡æŸ¥é–±äººæ•¸</title>

</head>
<body>
  <h1>ç¶²ç«™çµ±è¨ˆ</h1>
  <div class="count">ğŸ‘ï¸ğŸŸ¢ ç¸½æŸ¥é–±äººæ•¸ï¼š <span id="total-count"> -- </span></div>
  <div class="count">ğŸŸ¢ ç·šä¸Šäººæ•¸ï¼š   <span id="online-count"> -- </span></div>

<script>
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyhWHGuDISk5686ZR4DANrxyl85dsK51NSZVH8PwO41__2aE-Vg-nhQBdYJPMEe3-lU/exec";
    const sessionId = "12322222"; // ç”Ÿæˆå”¯ä¸€è­˜åˆ¥ç¢¼

    // æŸ¥é–±äººæ•¸ï¼šåƒ…é€²å…¥é é¢æ™‚è«‹æ±‚ä¸€æ¬¡
    fetch(SCRIPT_URL)
      .then(res => res.json())
      .then(data => {
        document.getElementById('total-count').innerText = data.viewCount;
      });

    // ç·šä¸Šäººæ•¸ï¼šå®šæ™‚ ping
    function pingServer() {
      fetch(SCRIPT_URL, {
        method: 'POST',
        body: JSON.stringify({ sessionId }),
        headers: { 'Content-Type': 'application/json' }
      })
      .then(res => res.json())
      .then(data => {
        document.getElementById('online-count').innerText = data.online;
      });
    }

    pingServer(); // é¦–æ¬¡åŸ·è¡Œ
    setInterval(pingServer, 15000); // æ¯ 15 ç§’æ›´æ–°
  </script>
</body>
</html>

  
